{"is_source_file": true, "format": "TypeScript", "description": "This file defines a generic API fetch utility function along with related types and interfaces for handling API calls, errors, and configuration within a TypeScript project.", "external_files": ["./config"], "external_methods": ["APP_CONFIG.getApiBaseUrl"], "published": ["HttpMethod", "ApiError", "apiFetch"], "classes": [], "methods": [{"name": "export async function apiFetch<T>( apiFetch", "description": "Performs a fetch request with URL prefixing, authorization header, and JSON parsing, supporting various HTTP methods and configurable options.", "scope": "", "scopeKind": ""}], "calls": ["APP_CONFIG.getApiBaseUrl", "Object.entries", "url.searchParams.set", "localStorage.getItem", "fetch", "res.json", "res.text", "JSON.parse"], "search-terms": ["api fetch utility", "TypeScript API client", "fetch wrapper", "HTTP request abstraction", "API error handling", "authorization header", "searchParams"], "state": 2, "file_id": 13, "knowledge_revision": 66, "git_revision": "", "revision_history": [{"27": ""}, {"66": ""}], "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^export interface ApiError {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "HttpMethod", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^export type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^export async function apiFetch<T>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const base = APP_CONFIG.getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^      detail,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^    let detail: unknown = undefined;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "detail", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  detail?: unknown;$/", "language": "TypeScript", "kind": "property", "scope": "ApiError", "scopeKind": "interface"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^    const err: ApiError = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const headers: HeadersInit = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^      message,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^    const message =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  message: string;$/", "language": "TypeScript", "kind": "property", "scope": "ApiError", "scopeKind": "interface"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url.toString(), {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  status: number;$/", "language": "TypeScript", "kind": "property", "scope": "ApiError", "scopeKind": "interface"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const text = await res.text();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const token =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26596/bike_taxi_frontend/src/lib/api.ts", "pattern": "/^  const url = new URL(base + path);$/", "language": "TypeScript", "kind": "constant"}], "hash": "d14d1a5c5444d7f5d15c2e4ac9f3b1ae", "format-version": 4, "code-base-name": "bike_taxi_frontend", "filename": "bike_taxi_frontend/src/lib/api.ts", "fields": [{"name": "export interface ApiError {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let detail: unknown = undefined;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "detail?: unknown;", "scope": "ApiError", "scopeKind": "interface", "description": "unavailable"}, {"name": "message: string;", "scope": "ApiError", "scopeKind": "interface", "description": "unavailable"}, {"name": "status: number;", "scope": "ApiError", "scopeKind": "interface", "description": "unavailable"}]}